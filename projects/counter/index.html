<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Counter</title>

    <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">

    <style>
        button:focus {
            outline: none;
        }
    </style>
</head>
<body class="h-screen py-24 text-center m-0 box-border bg-gray-100 overflow-hidden">

    <h1 class="text-6xl">Counter (with a twist)</h1>
    <p class="text-8xl text-indigo-800 py-8">0</p>

    <div class="flex justify-center">
        <button class="mr-4 z-10 w-40 shadow-sm rounded-md text-indigo-700 bg-indigo-100 hover:bg-indigo-200 py-2 text-lg px-4">
            Reset
        </button>
        <button class="w-40 z-10 shadow-sm rounded-md text-white bg-indigo-600 hover:bg-indigo-700 py-2 text-lg px-4">
            Click
        </button>
    </div>

    <!--  JAVASCRIPT  -->
    <script lang="javascript">
        const init = () => {
            const counterElement = document.getElementsByTagName('p')[0];
            const buttons = document.getElementsByTagName('button');
            buttons[0].addEventListener('click', reset);
            buttons[1].addEventListener('click', addNumber);


            let lastCounter = 0;
            let counter = 0;

            function addNumber() {
                if (!lastCounter && !counter) {
                    counter = 1;
                } else {
                    const aux = counter;
                    counter += lastCounter;
                    lastCounter = aux;
                }

                updateCounter();
            }

            function reset() {
                lastCounter = 0;
                counter = 0;
                updateCounter();
            }

            function updateCounter() {
                counterElement.innerText = counter;
                counterElement.style.transform = `rotate(${counter}deg)`;
            }
        };

        window.onload = init;
    </script>
</body>
</html>
